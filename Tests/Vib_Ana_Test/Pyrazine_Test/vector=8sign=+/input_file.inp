&GLOBAL
   ! the project name is made part of most output files... useful to keep order 
   PROJECT Pyrazine_TZV2P-GTH_VIB_ANA
   ! various runtypes (energy, geo_opt, etc.) available.
   RUN_TYPE ENERGY_FORCE
   ! amount of information printed to output
   IOLEVEL  MEDIUM
&END GLOBAL
&FORCE_EVAL
   ! the electronic structure part of CP2K is named Quickstep
   METHOD Quickstep
   &DFT
      ! basis sets and pseudopotential files can be found in cp2k/data
      BASIS_SET_FILE_NAME HFX_BASIS
      POTENTIAL_FILE_NAME GTH_POTENTIALS

      ! Charge and multiplicity
      CHARGE 0
      MULTIPLICITY 1

      &MGRID
         ! PW cutoff ... depends on the element (basis) too small cutoffs lead to the eggbox effect.
         ! certain calculations (e.g. geometry optimization, vibrational frequencies,
         ! NPT and cell optimizations, need higher cutoffs)
         CUTOFF 400
         REL_CUTOFF 50
         NGRIDS 5
      &END

      &QS
         ! use the GPW method (i.e. pseudopotential based calculations with the Gaussian and Plane Waves scheme).
         METHOD GPW
         ! default threshold for numerics ~ roughly numerical accuracy of the total energy per electron,
         ! sets reasonable values for all other thresholds.
         EPS_DEFAULT              1.0E-12
      	 EPS_PGF_ORB              1.0E-32
         EPS_FILTER_MATRIX        0.0E+0
         ! used for MD, the method used to generate the initial guess.
         EXTRAPOLATION ASPC
      &END

      &POISSON
      	PERIODIC NONE
      	PSOLVER WAVELET
    &END

      &PRINT
         ! at the end of the SCF procedure generate cube files of the density
         &E_DENSITY_CUBE OFF
         &END E_DENSITY_CUBE
         &AO_MATRICES ON
    	ADD_LAST SYMBOLIC
    	KOHN_SHAM_MATRIX .TRUE.
    	OVERLAP .TRUE.
    	FILENAME =KSHamiltonian
    	&END AO_MATRICES
         ! compute eigenvalues and homo-lumo gap 
         &MO_CUBES OFF
            NLUMO 4
            NHOMO 4
            WRITE_CUBE .FALSE.
            &EACH
               MD 10
            &END
         &END
      &END
      ! use the OT METHOD for robust and efficient SCF, suitable for all non-metallic systems.
      &SCF
         SCF_GUESS RESTART ! can be used to RESTART an interrupted calculation
         MAX_SCF 80
	&DIAGONALIZATION
		ALGORITHM STANDARD
	&END DIAGONALIZATION
         ! do not store the wfn during MD
         &PRINT
            &RESTART ON
            &END
         &END
	ADDED_MOS -1
      &END SCF
    #These are the coefficients used for B3LYP using VWN5, this is recommended but doesn't match the default Gaussian definition
    &XC
      &XC_FUNCTIONAL
        &HYB_GGA_XC_CAM_B3LYP
	&END
      &END XC_FUNCTIONAL
      &HF
       &SCREENING
         EPS_SCHWARZ 1.0E-12
       &END SCREENING
 &INTERACTION_POTENTIAL
POTENTIAL_TYPE MIX_CL
         OMEGA 0.33
         SCALE_LONGRANGE 0.31
         SCALE_COULOMB 0.19
       &END
 &END HF 
&XC_GRID
        XC_DERIV SPLINE2
        XC_SMOOTH_RHO NN50
      &END XC_GRID
    &END XC
   &END DFT
   ! description of the system
   &SUBSYS
      &CELL
         ! unit cells that are orthorhombic are more efficient with CP2K
         ABC 15 15 15
         PERIODIC NONE
      &END CELL

      ! atom coordinates can be in the &COORD section,
      ! or provided as an external file.
 &TOPOLOGY
         COORD_FILE_NAME Pyrazine.xyz
         COORD_FILE_FORMAT XYZ
      &END
      &KIND H
      BASIS_SET cc-TZV2P-GTH
      POTENTIAL GTH-BLYP-q1
    &END KIND
    &KIND C
      BASIS_SET cc-TZV2P-GTH
      POTENTIAL GTH-BLYP-q4
    &END KIND
    &KIND N
      BASIS_SET cc-TZV2P-GTH
      POTENTIAL GTH-BLYP-q5
    &END KIND        
   &END SUBSYS
&PRINT
  &FORCES ON
  FILENAME =Forces
  NDIGITS 15
  &END FORCES
&END PRINT
&END FORCE_EVAL
